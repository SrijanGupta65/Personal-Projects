<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bridgeling - Institutional Q&A Demo</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    header {
      text-align: center;
      color: white;
      margin-bottom: 40px;
    }

    h1 {
      font-size: 48px;
      margin-bottom: 10px;
      font-weight: 700;
    }

    .tagline {
      font-size: 20px;
      opacity: 0.9;
      margin-bottom: 30px;
    }

    .features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      margin-bottom: 40px;
    }

    .feature-card {
      background: white;
      border-radius: 12px;
      padding: 24px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    }

    .feature-card h3 {
      color: #667eea;
      margin-bottom: 12px;
      font-size: 18px;
    }

    .feature-card p {
      color: #666;
      line-height: 1.6;
      font-size: 14px;
    }

    .demo-section {
      background: white;
      border-radius: 16px;
      padding: 40px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      margin-bottom: 40px;
    }

    .demo-section h2 {
      color: #1f2937;
      margin-bottom: 30px;
      font-size: 32px;
    }

    .demo-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 40px;
      align-items: start;
    }

    @media (max-width: 768px) {
      .demo-grid {
        grid-template-columns: 1fr;
      }
    }

    .query-section h3 {
      color: #374151;
      margin-bottom: 20px;
      font-size: 18px;
    }

    .query-examples {
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin-bottom: 30px;
    }

    .query-btn {
      background: #f3f4f6;
      border: 2px solid #e5e7eb;
      padding: 16px;
      border-radius: 8px;
      cursor: pointer;
      text-align: left;
      transition: all 0.2s;
      font-size: 14px;
    }

    .query-btn:hover {
      border-color: #667eea;
      background: #f9fafb;
      transform: translateX(4px);
    }

    .query-btn.selected {
      border-color: #667eea;
      background: #ede9fe;
    }

    .response-section {
      display: flex;
      flex-direction: column;
    }

    .response-box {
      background: #f9fafb;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 20px;
      line-height: 1.6;
      color: #374151;
      min-height: 180px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .response-box.active {
      background: white;
      border-color: #667eea;
    }

    .source-list {
      margin-top: 20px;
    }

    .source-list h4 {
      color: #1f2937;
      margin-bottom: 12px;
      font-size: 14px;
      font-weight: 600;
    }

    .source-item {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      padding: 12px;
      background: white;
      border-radius: 6px;
      margin-bottom: 8px;
      border-left: 3px solid #667eea;
    }

    .source-item a {
      color: #667eea;
      text-decoration: none;
      font-weight: 500;
      word-break: break-word;
    }

    .source-item a:hover {
      text-decoration: underline;
    }

    .widget-demo {
      position: fixed;
      bottom: 20px;
      right: 20px;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      z-index: 10000;
    }

    .widget-toggle {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      cursor: pointer;
      font-size: 24px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      transition: transform 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .widget-toggle:hover {
      transform: scale(1.1);
    }

    .widget-panel {
      position: absolute;
      bottom: 80px;
      right: 0;
      width: 380px;
      height: 500px;
      background: white;
      border-radius: 12px;
      box-shadow: 0 5px 40px rgba(0, 0, 0, 0.16);
      display: none;
      flex-direction: column;
      overflow: hidden;
    }

    .widget-panel.open {
      display: flex;
    }

    .widget-header {
      padding: 16px;
      border-bottom: 1px solid #e5e7eb;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .widget-header h3 {
      margin: 0;
      font-size: 16px;
      font-weight: 600;
    }

    .widget-close {
      background: none;
      border: none;
      font-size: 20px;
      color: #6b7280;
      cursor: pointer;
    }

    .widget-messages {
      flex: 1;
      overflow-y: auto;
      padding: 16px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .message {
      display: flex;
      gap: 8px;
      animation: slideIn 0.2s ease-out;
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .message.user {
      justify-content: flex-end;
    }

    .message-content {
      max-width: 80%;
      padding: 12px;
      border-radius: 8px;
      font-size: 14px;
      line-height: 1.4;
    }

    .message.user .message-content {
      background: #667eea;
      color: white;
    }

    .message.assistant .message-content {
      background: #f3f4f6;
      color: #1f2937;
    }

    .widget-input {
      padding: 12px;
      border-top: 1px solid #e5e7eb;
      display: flex;
      gap: 8px;
    }

    .widget-input input {
      flex: 1;
      padding: 10px;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      font-size: 14px;
      outline: none;
    }

    .widget-input input:focus {
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    .widget-input button {
      padding: 10px 16px;
      background: #667eea;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 500;
      transition: background 0.2s;
    }

    .widget-input button:hover {
      background: #5568d3;
    }

    .stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin: 40px 0;
    }

    .stat-card {
      background: white;
      padding: 24px;
      border-radius: 12px;
      text-align: center;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    }

    .stat-card .number {
      font-size: 36px;
      font-weight: 700;
      color: #667eea;
      margin-bottom: 8px;
    }

    .stat-card .label {
      color: #666;
      font-size: 14px;
    }

    footer {
      text-align: center;
      color: white;
      padding: 20px;
      opacity: 0.9;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Bridgeling</h1>
      <p class="tagline">Institutional Q&A powered by Claude</p>
      <p style="font-size: 16px; opacity: 0.8;">Ask questions in any language. Get answers in seconds.</p>
    </header>

    <div class="features">
      <div class="feature-card">
        <h3>üåç Multilingual</h3>
        <p>Ask questions in any language. Claude automatically detects and responds in your language.</p>
      </div>
      <div class="feature-card">
        <h3>‚ö° Fast</h3>
        <p>Semantic search + Claude reasoning gives you answers in 2-5 seconds with cited sources.</p>
      </div>
      <div class="feature-card">
        <h3>üîó Embeddable</h3>
        <p>Single &lt;script&gt; tag embed. Works on any website without external dependencies.</p>
      </div>
      <div class="feature-card">
        <h3>üéì Institutional</h3>
        <p>Built for universities, colleges, and organizations. Multi-tenant architecture.</p>
      </div>
    </div>

    <div class="demo-section">
      <h2>Try It Now</h2>

      <div style="margin-bottom: 40px;">
        <div style="display: flex; gap: 12px; margin-bottom: 20px;">
          <input
            type="text"
            id="searchInput"
            placeholder="Type a question... (e.g., 'Where can I find financial aid?')"
            style="flex: 1; padding: 14px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px; outline: none; transition: all 0.2s;"
            onkeypress="if(event.key==='Enter') searchQuery()"
            onfocus="this.style.borderColor='#667eea'; this.style.boxShadow='0 0 0 3px rgba(102, 126, 234, 0.1)';"
            onblur="this.style.borderColor='#e5e7eb'; this.style.boxShadow='none';"
          />
          <button
            onclick="searchQuery()"
            style="padding: 14px 32px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; transition: transform 0.2s;"
            onmouseover="this.style.transform='translateY(-2px)';"
            onmouseout="this.style.transform='translateY(0)';"
          >
            Search
          </button>
        </div>
        <p style="color: #666; font-size: 14px;">Or select an example below:</p>
      </div>

      <div class="demo-grid">
        <div class="query-section">
          <h3 id="examplesTitle" style="display: none;">Example Queries</h3>
          <div class="query-examples" id="examplesSection" style="display: none;">
            <button class="query-btn" onclick="selectQuery(0)">
              üìç Where can I find financial aid information?
            </button>
            <button class="query-btn" onclick="selectQuery(1)">
              üåê O√π puis-je trouver des informations sur les bourses?
            </button>
            <button class="query-btn" onclick="selectQuery(2)">
              üá®üá≥ ÊàëÂ¶Ç‰ΩïÁî≥ËØ∑Â•ñÂ≠¶ÈáëÔºü
            </button>
            <button class="query-btn" onclick="selectQuery(3)">
              üá™üá∏ ¬øC√≥mo me registro para clases?
            </button>
          </div>
        </div>

        <div class="response-section">
          <h3 id="responseTitle" style="display: none;">Response (Demo)</h3>
          <div class="response-box active" id="responseBox" style="display: none;">
            Select a query to see how Bridgeling responds...
          </div>
          <div class="source-list" id="sourceList" style="display: none;"></div>
        </div>
      </div>
    </div>

    <div class="stats">
      <div class="stat-card">
        <div class="number">2-5s</div>
        <div class="label">Average Response Time</div>
      </div>
      <div class="stat-card">
        <div class="number">1024</div>
        <div class="label">Embedding Dimensions</div>
      </div>
      <div class="stat-card">
        <div class="number">50+</div>
        <div class="label">Languages Supported</div>
      </div>
      <div class="stat-card">
        <div class="number">$0.02</div>
        <div class="label">Cost Per Query</div>
      </div>
    </div>

    <div class="demo-section">
      <h2>How It Works</h2>
      <div style="background: #f9fafb; padding: 24px; border-radius: 8px; margin-bottom: 20px;">
        <ol style="color: #374151; line-height: 2; padding-left: 24px;">
          <li><strong>Detect Language:</strong> Claude identifies the language of your query (English, Spanish, Chinese, French, etc.)</li>
          <li><strong>Translate:</strong> Query is translated to English (canonical language)</li>
          <li><strong>Embed:</strong> Create a semantic vector using Claude Embeddings API</li>
          <li><strong>Search:</strong> Find top 5 relevant chunks from institutional content using pgvector</li>
          <li><strong>Generate:</strong> Claude generates answer directly in your original language</li>
          <li><strong>Cite:</strong> Return answer with links to source documents</li>
        </ol>
      </div>
    </div>

    <div class="demo-section">
      <h2>Tech Stack</h2>
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
        <div>
          <strong style="color: #667eea;">Backend</strong>
          <ul style="margin-top: 10px; color: #666; padding-left: 20px; line-height: 1.8;">
            <li>Node.js + Fastify</li>
            <li>PostgreSQL + pgvector</li>
            <li>Claude 3.5 Sonnet</li>
          </ul>
        </div>
        <div>
          <strong style="color: #667eea;">Frontend</strong>
          <ul style="margin-top: 10px; color: #666; padding-left: 20px; line-height: 1.8;">
            <li>Vanilla TypeScript</li>
            <li>Embeddable widget</li>
            <li>Zero dependencies</li>
          </ul>
        </div>
        <div>
          <strong style="color: #667eea;">Infrastructure</strong>
          <ul style="margin-top: 10px; color: #666; padding-left: 20px; line-height: 1.8;">
            <li>Docker Compose</li>
            <li>Redis (optional)</li>
            <li>Auto-scaling ready</li>
          </ul>
        </div>
      </div>
    </div>

    <footer>
      <p>Bridgeling - Institutional Q&A Platform | Built with Claude</p>
    </footer>
  </div>

  <!-- Widget Demo -->
  <div class="widget-demo">
    <button class="widget-toggle" onclick="toggleWidget()">üí¨</button>
    <div class="widget-panel" id="widgetPanel">
      <div class="widget-header">
        <h3>Bridgeling</h3>
        <button class="widget-close" onclick="toggleWidget()">‚úï</button>
      </div>
      <div class="widget-messages" id="widgetMessages">
        <div class="message assistant">
          <div class="message-content">Hi! Ask me anything about the institution. I speak 50+ languages!</div>
        </div>
      </div>
      <div class="widget-input">
        <input type="text" id="widgetInput" placeholder="Ask anything..." />
        <button onclick="sendWidgetMessage()">Send</button>
      </div>
    </div>
  </div>

  <script>
    const mockResponses = [
      {
        query: "Where can I find financial aid information?",
        language: "en",
        answer: "Financial aid information is available through the University's Financial Aid office. You can access comprehensive information about scholarships, grants, loans, and work-study programs on our financial aid website. Most students are encouraged to fill out the FAFSA (Free Application for Federal Student Aid) to determine eligibility. Our financial aid advisors are available for consultations Monday-Friday, 9am-5pm.",
        sources: [
          { url: "https://university.edu/financialaid", title: "Financial Aid Office" },
          { url: "https://university.edu/scholarships", title: "Scholarships & Grants" },
          { url: "https://university.edu/loans", title: "Student Loans" }
        ]
      },
      {
        query: "O√π puis-je trouver des informations sur les bourses?",
        language: "fr",
        answer: "Les informations sur les bourses sont disponibles aupr√®s du bureau d'aide financi√®re de l'universit√©. Nous offrons une vari√©t√© de bourses d'√©tudes, de subventions f√©d√©rales et de programmes d'aide financi√®re. Tous les √©tudiants sont encourag√©s √† remplir le FAFSA pour d√©terminer leur admissibilit√©. Nos conseillers en aide financi√®re sont disponibles du lundi au vendredi, de 9h √† 17h.",
        sources: [
          { url: "https://university.edu/fr/aide-financiere", title: "Bureau d'Aide Financi√®re" },
          { url: "https://university.edu/fr/bourses", title: "Bourses d'√âtudes" }
        ]
      },
      {
        query: "ÊàëÂ¶Ç‰ΩïÁî≥ËØ∑Â•ñÂ≠¶ÈáëÔºü",
        language: "zh",
        answer: "Áî≥ËØ∑Â•ñÂ≠¶ÈáëÈúÄË¶ÅÈÄöËøáÂ≠¶ÁîüË¥¢Âä°Êè¥Âä©ÂäûÂÖ¨ÂÆ§„ÄÇÊàë‰ª¨Êèê‰æõÂ§öÁßçÂ•ñÂ≠¶Èáë„ÄÅË°•Âä©ÈáëÂíåË¥¢Âä°Êè¥Âä©È°πÁõÆ„ÄÇÊâÄÊúâÂ≠¶ÁîüÈÉΩË¢´ÈºìÂä±Â°´ÂÜôFAFSAÔºàÂÖçË¥πËÅîÈÇ¶Â≠¶ÁîüÊè¥Âä©Áî≥ËØ∑Ë°®Ôºâ‰ª•Á°ÆÂÆöËµÑÊ†º„ÄÇÊàë‰ª¨ÁöÑË¥¢Âä°Êè¥Âä©È°æÈóÆÂë®‰∏ÄËá≥Âë®‰∫î‰∏äÂçà9ÁÇπËá≥‰∏ãÂçà5ÁÇπÊèê‰æõÂí®ËØ¢ÊúçÂä°„ÄÇ",
        sources: [
          { url: "https://university.edu/zh/financial-aid", title: "Ë¥¢Âä°Êè¥Âä©ÂäûÂÖ¨ÂÆ§" },
          { url: "https://university.edu/zh/scholarships", title: "Â•ñÂ≠¶Èáë‰ø°ÊÅØ" }
        ]
      },
      {
        query: "¬øC√≥mo me registro para clases?",
        language: "es",
        answer: "El registro de clases se realiza a trav√©s del portal de estudiantes en l√≠nea. Cada estudiante recibe un per√≠odo de registro espec√≠fico seg√∫n su nivel de clase. El registro generalmente se abre 4-6 semanas antes de cada semestre. Puedes acceder al portal de estudiantes con tu ID de estudiante y contrase√±a. Si tienes problemas, nuestros asesores acad√©micos est√°n disponibles para ayudarte.",
        sources: [
          { url: "https://university.edu/es/registration", title: "Portal de Registro" },
          { url: "https://university.edu/es/academic-advising", title: "Asesor√≠a Acad√©mica" }
        ]
      }
    ];

    function selectQuery(index) {
      const response = mockResponses[index];
      const responseBox = document.getElementById("responseBox");
      const sourceList = document.getElementById("sourceList");

      // Update selected button
      document.querySelectorAll(".query-btn").forEach((btn, i) => {
        btn.classList.toggle("selected", i === index);
      });

      // Animate response
      responseBox.style.opacity = "0.5";
      setTimeout(() => {
        responseBox.textContent = response.answer;
        responseBox.style.opacity = "1";
      }, 200);

      // Update sources
      sourceList.innerHTML = `
        <h4>üìö Sources</h4>
        ${response.sources
          .map(
            (source) => `
          <div class="source-item">
            <span>‚Üí</span>
            <a href="${source.url}" target="_blank">${source.title}</a>
          </div>
        `
          )
          .join("")}
      `;
    }

    function toggleWidget() {
      const panel = document.getElementById("widgetPanel");
      panel.classList.toggle("open");
      if (panel.classList.contains("open")) {
        document.getElementById("widgetInput").focus();
      }
    }

    function sendWidgetMessage() {
      const input = document.getElementById("widgetInput");
      const messages = document.getElementById("widgetMessages");

      if (!input.value.trim()) return;

      // Add user message
      const userMsg = document.createElement("div");
      userMsg.className = "message user";
      userMsg.innerHTML = `<div class="message-content">${escapeHtml(input.value)}</div>`;
      messages.appendChild(userMsg);

      // Clear input
      const query = input.value;
      input.value = "";

      // Add typing indicator
      const typingMsg = document.createElement("div");
      typingMsg.className = "message assistant";
      typingMsg.innerHTML = `<div class="message-content">‚è≥ Processing...</div>`;
      messages.appendChild(typingMsg);
      messages.scrollTop = messages.scrollHeight;

      // Simulate response delay
      setTimeout(() => {
        typingMsg.remove();

        // Add bot response
        const botMsg = document.createElement("div");
        botMsg.className = "message assistant";
        botMsg.innerHTML = `<div class="message-content">
          This is a demo response. In production, Claude would generate an answer based on your institution's content. The system would:
          1) Detect your language
          2) Find relevant documents
          3) Generate a comprehensive answer
          4) Cite sources
        </div>`;
        messages.appendChild(botMsg);
        messages.scrollTop = messages.scrollHeight;
      }, 1500);
    }

    function escapeHtml(text) {
      const map = {
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&quot;",
        "'": "&#039;"
      };
      return text.replace(/[&<>"']/g, (m) => map[m]);
    }

    // Auto-select first query on load
    window.addEventListener("load", () => {
      selectQuery(0);
    });

    function searchQuery() {
      const searchInput = document.getElementById("searchInput");
      const query = searchInput.value.trim();

      if (!query) return;

      const responseBox = document.getElementById("responseBox");
      const sourceList = document.getElementById("sourceList");
      const examplesSection = document.getElementById("examplesSection");
      const examplesTitle = document.getElementById("examplesTitle");
      const responseTitle = document.getElementById("responseTitle");

      // Show sections
      examplesSection.style.display = "flex";
      examplesTitle.style.display = "block";
      responseBox.style.display = "flex";
      responseTitle.style.display = "block";

      // Show loading state
      responseBox.style.opacity = "0.6";
      responseBox.textContent = "‚è≥ Searching...";

      // Simulate search delay
      setTimeout(() => {
        // Always show the financial aid response
        const response = mockResponses[0];

        responseBox.style.opacity = "1";
        responseBox.textContent = response.answer;
        sourceList.style.display = "block";

        sourceList.innerHTML = `
          <h4>üìö Sources</h4>
          ${response.sources
            .map(
              (source) => `
            <div class="source-item">
              <span>‚Üí</span>
              <a href="${source.url}" target="_blank">${source.title}</a>
            </div>
          `
            )
            .join("")}
        `;

        // Update button selections
        document.querySelectorAll(".query-btn").forEach((btn) => {
          btn.classList.remove("selected");
        });
      }, 800);

      // Clear search input
      searchInput.value = "";
    }
  </script>
</body>
</html>
